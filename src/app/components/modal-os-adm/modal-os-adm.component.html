<ng-container *ngIf="orderService?.status_os  !== 'Solicitada'">
    <div class="card flex justify-content-center">
        <div class="itens" >
            <div class="column">
                <div class="item">
                    <div class="item-title">
                        <i class='bx bx-user'></i>
                        <label>Nome</label>
                    </div>
                    <p>{{ orderService?.solicitante_nome }}</p>
                </div>
    
                <div class="item">
                    <div class="item-title">
                        <i class='bx bx-envelope'></i>
                        <label>E-mail</label>
                    </div>
                    <p>{{ orderService?.solicitante_email }}</p>
                </div>
    
                <div class="item">
                    <div class="item-title">
                        <i class='bx bx-briefcase-alt'></i>
                        <label>Instituição</label>
                    </div>
                    <p>{{ orderService?.setor_principal_nome }}</p>
                </div>
            </div>
    
            <div class="column">
                <div class="item">
                    <div class="item-title">
                        <i class='bx bx-map'></i>
                        <label>Setor</label>
                    </div>
                    <p>{{ orderService?.setor_secundario_com_bloco}}</p>
                </div>
    
                <div class="item">
                    <div class="item-title">
                        <i class='bx bx-wrench'></i>
                        <label>Categoria</label>
                    </div>
                    <p>{{ orderService?.tipo_servico_nome }}</p>
                </div>
    
                <div class="item">
                    <div class="item-title">
                        <i class='bx bx-calendar-week'></i>
                        <label>Data</label>
                    </div>
                    <p>{{ orderService?.data_solicitacao | date:'dd/MM/yyyy' }}</p>
                </div>
            </div>
        </div>
    
        <div class="fields">
            <div class="field">
                <div class="item-title">
                    <i class='bx bx-file'></i>
                    <label>Descrição</label>
                </div>
                <p>{{ orderService?.descricao }}</p>
            </div>
    
            <div class="field">
                <div class="item-title">
                    <i class='bx bx-user'></i>
                    <label>Técnico Responsável</label>
                </div>
                <p>{{ orderService?.tecnico_nome }}</p>
            </div>
    
            <div class="field">
                <div class="item-title">
                    <i class='bx bx-cart'></i>
                    <label>Relatório</label>
                </div>
                <textarea rows="5" cols="30" pInputTextarea [autoResize]="true" placeholder="Relatório do serviço realizado">{{ orderService?.relatorio }}</textarea>
            </div>
    
            <div class="field">
                <div class="item-title">
                    <i class='bx bx-clipboard' ></i>
                    <label>Materiais</label>
                </div>
                <textarea rows="5" cols="30" pInputTextarea [autoResize]="true" placeholder="Material utilizado na OS">{{ orderService?.material }}</textarea>
            </div>
    
            <div class="select card flex justify-content-center m-0">
                <span class="p-float-label">
                    <p-dropdown [options]="feedback" placeholder="Selecione uma feedback" inputId="float-label"></p-dropdown>
                    <label for="float-label">Feedback</label>
                </span>
            </div>
    
        </div>
            
    
        <div class="card flex justify-content-center btn-submit">
            <!-- <button pButton pRipple label="Submit" class="p-button-success btn" (click)="submitForm()"></button> -->
        </div>
    </div>
</ng-container>



<ng-container *ngIf="orderService?.status_os  === 'Solicitada'">
    <div class="card flex justify-content-center">
        <div class="itens" >
            <div class="column-info">
                <div class="item">
                    <div class="item-title">
                        <i class='bx bx-user'></i>
                        <label>Nome</label>
                    </div>
                    <p>{{ orderService?.solicitante_nome }}</p>
                </div>
    
                <div class="item">
                    <div class="item-title">
                        <i class='bx bx-envelope'></i>
                        <label>E-mail</label>
                    </div>
                    <p>{{ orderService?.solicitante_email }}</p>
                </div>

                <div class="item">
                    <div class="item-title">
                        <i class='bx bx-calendar-week'></i>
                        <label>Data</label>
                    </div>
                    <p>{{ orderService?.data_solicitacao | date:'dd/MM/yyyy' }}</p>
                </div>
            </div>
        </div>
    
        <form class="dropdown" [formGroup]="formGroup">
            <div class="select card flex justify-content-center m-0">
                <label for="float-label">Instituição</label>
                <p-dropdown  formControlName="setor_principal_id" [options]="setor_principal" placeholder="{{ orderService?.setor_principal_nome }}" [(ngModel)]="selectedSetor" (ngModelChange)="getAllSecundarios()" ></p-dropdown>
            </div>

            <div class="select card flex justify-content-center m-0">
                <label for="float-label">Setor</label>
                <p-dropdown  formControlName="setor_secundario_id" [options]="setor_secundario"></p-dropdown>
            </div>

            <div class="select card flex justify-content-center m-0">
                <label for="float-label">Categoria</label>
                <p-dropdown formControlName="tipo_servico_id" [options]="tipo_servico" placeholder="{{ !!orderService?.tipo_servico_nome || 'Categoria do Serviço' }}"></p-dropdown>
            </div>

            <div class="select card flex justify-content-center m-0">
                <label for="float-label">Prioridade</label>
                <p-dropdown formControlName="nivel_prioridade" [options]="nivel_prioridade" placeholder="Nível de prioridade"></p-dropdown>
            </div>

            <div class="select card flex justify-content-center m-0">
                <label for="float-label">Responsável</label>
                <p-dropdown formControlName="tecnico_id"  [options]="tecnico" placeholder="Técnico responsável"></p-dropdown>
            </div>
            
        </form>
        <div class="fields" *ngIf="orderService">
            <div class="fieldDescription">
                <div class="item-title">
                    <i class='bx bx-file'></i>
                    <label>Descrição</label>
                </div>
                <textarea class="textDescription" rows="5" cols="30" pInputTextarea [autoResize]="true" placeholder="Relatório do serviço realizado"  [(ngModel)]="orderService.descricao"></textarea>
            </div>
        </div>
        
       
    
        <div class="card flex justify-content-center btn-submit">
            <button pButton pRipple label="Aprovar" class="p-button-success btn" (click)="getFormValues()"></button>
            <button pButton pRipple label="Declinar" class="p-button-danger btn" (click)="openModal()"></button>
        </div>
        <!-- <div class="card flex justify-content-center btn-submit">
        </div> -->
    </div>
</ng-container>

<p-dialog header="Header" [(visible)]="displayModal" [breakpoints]="{ '960px': '65vw' }" [style]="{ width: '30vw'} "  [draggable]="false" [resizable]="false">
    <ng-template pTemplate="header">
        <span class=" header">Deseja declinar esta ordem de serviço?</span>
    </ng-template>
    <div class="card flex justify-content-center btn-decline">
        <button pButton pRipple label="Voltar" class="p-button-success btn" (click)="openModal()"></button>
        <button pButton pRipple label="Declinar" class="p-button-danger btn" (click)="openModal()"></button>
    </div>
</p-dialog>