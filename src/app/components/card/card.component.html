<div class="card" *ngIf="orderService">
    <div class="itens">
        <div class="item status">
            <i class='bx bx-alarm'></i>
            <p>{{ orderService.nivel_prioridade }}</p>
        </div>
        <div class="item priority">
            <i class='bx bx-purchase-tag-alt'></i>
            <p>{{ orderService.status_os }}</p>
        </div>
        <div class="item institute">
            <i class='bx bx-briefcase-alt'></i>
            <p>{{ orderService.setor_principal_nome }}</p>
        </div>
        <div class="item sector">
            <i class='bx bx-map'></i>
            <p>{{ orderService.setor_secundario_com_bloco }}</p>
        </div>
        <div class="item category">
            <i class='bx bx-wrench'></i>
            <p>{{ orderService.tipo_servico_nome }}</p>
        </div>
    </div>
    <div class="id">
        <p>ID: {{ orderService.id.toString().padStart(4, '0') }}</p>
    </div>

    <div class="details">
        <p (click)="openModal()">Detalhes</p>
    </div>
</div>


<p-dialog header="Header" [(visible)]="displayModal" [breakpoints]="{ '960px': '65vw' }" [style]="{ width: '30vw'}"  [draggable]="false" [resizable]="false">
    <ng-template pTemplate="header">
        <span class="header">Ordem de Servi√ßo: {{ orderService?.id }}</span>
    </ng-template>
    <app-modal-os-user *ngIf="role == 'Solicitante'" [orderService]="orderService"></app-modal-os-user>
    <app-modal-aprovar-os *ngIf="orderService?.status_os == 'Solicitada' && role == 'Admin'" [orderService]="orderService" [displayModal]="displayModal" (attCards)="attCards($event)"></app-modal-aprovar-os>
    <app-modal-finalizar-os *ngIf="orderService?.status_os == 'Concluida' && role == 'Admin'" [orderService]="orderService"></app-modal-finalizar-os>
    <app-modal-concluir-os *ngIf="orderService?.status_os == 'Aprovada' && role == 'Admin' || role == 'Tecnico'" [orderService]="orderService"></app-modal-concluir-os>
    <app-modal-finalizada *ngIf="orderService?.status_os == 'Finalizada'" [orderService]="orderService"></app-modal-finalizada>
</p-dialog>

